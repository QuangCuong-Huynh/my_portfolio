<!-- Skill Card Component -->
<!-- Usage: {% include 'components/skill_card.html' with skill=skill_object %} -->

<div class="skill-card bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 cursor-pointer transform transition-all duration-300 hover:shadow-xl hover:-translate-y-2 animate-slide-up">
    <!-- Header Section -->
    <div class="flex justify-between items-start mb-4">
        <div class="flex-1">
            <h3 class="text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2">
                {{ skill.name }}
            </h3>
            <p class="text-sm text-gray-600 dark:text-gray-400 line-clamp-2 leading-relaxed">
                {{ skill.description }}
            </p>
        </div>
        
        <!-- SFIA Level Badge -->
        <div class="ml-4 flex-shrink-0">
            <div class="sfia-{{ skill.sfia }} px-3 py-1 rounded-full text-xs font-semibold mb-2 whitespace-nowrap">
                SFIA {{ skill.sfia }}
            </div>
            <div class="text-xs text-gray-500 dark:text-gray-400 text-center">
                {{ skill.industry }}
            </div>
        </div>
    </div>
    
    <!-- Skill Area Tag -->
    <div class="mb-4">
        <span class="inline-flex items-center px-2.5 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 text-xs font-medium rounded">
            <i class="fas fa-layer-group mr-1.5" aria-hidden="true"></i>
            {{ skill.area }}
        </span>
    </div>
    
    <!-- Sector Badge -->
    <div class="flex items-center justify-between mb-4 pb-4 border-b border-gray-200 dark:border-gray-700">
        <span class="text-xs text-gray-500 dark:text-gray-400 bg-gradient-to-r from-primary-50 to-accent-50 dark:from-gray-700 dark:to-gray-700 px-3 py-1 rounded-full">
            <i class="fas fa-building mr-1" aria-hidden="true"></i>
            {{ skill.sector }}
        </span>
        
        <!-- Evidence Count -->
        {% if skill.evidence %}
        <span class="text-xs text-primary-600 dark:text-primary-400 font-semibold">
            <i class="fas fa-check-circle mr-1" aria-hidden="true"></i>
            {{ skill.evidence|length }} Evidence
        </span>
        {% endif %}
    </div>
    
    <!-- Evidence Preview (collapsed) -->
    {% if skill.evidence %}
    <div class="space-y-2 mb-4">
        <p class="text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider">
            Evidence
        </p>
        <div class="flex flex-wrap gap-2">
            {% for evidence in skill.evidence|slice:":3" %}
            <span class="inline-flex items-center text-xs text-gray-600 dark:text-gray-400 bg-gray-50 dark:bg-gray-700 px-2 py-1 rounded">
                {% if evidence.type == 'cert' %}
                    <i class="fas fa-certificate text-yellow-500 mr-1" aria-hidden="true"></i>
                {% elif evidence.type == 'project' %}
                    <i class="fas fa-project-diagram text-blue-500 mr-1" aria-hidden="true"></i>
                {% elif evidence.type == 'edu' %}
                    <i class="fas fa-graduation-cap text-green-500 mr-1" aria-hidden="true"></i>
                {% endif %}
                {{ evidence.type|upper }}
            </span>
            {% endfor %}
            {% if skill.evidence|length > 3 %}
            <span class="text-xs text-gray-500 dark:text-gray-400">
                +{{ skill.evidence|length|add:"-3" }} more
            </span>
            {% endif %}
        </div>
    </div>
    {% endif %}
    
    <!-- Action Button -->
    <button 
        class="view-evidence-btn w-full mt-4 px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white text-sm font-medium rounded-lg transition-colors flex items-center justify-center group"
        data-skill-id="{{ skill.id }}"
        aria-label="View evidence for {{ skill.name }}">
        <span>View Details</span>
        <i class="fas fa-arrow-right ml-2 text-xs group-hover:translate-x-1 transition-transform" aria-hidden="true"></i>
    </button>
</div>

<style>
    /* SFIA Level Color Schemes */
    .sfia-L1 {
        @apply bg-gradient-to-r from-emerald-100 to-emerald-200 text-emerald-800;
    }
    
    .sfia-L2 {
        @apply bg-gradient-to-r from-green-100 to-green-200 text-green-800;
    }
    
    .sfia-L3 {
        @apply bg-gradient-to-r from-yellow-100 to-yellow-200 text-yellow-800;
    }
    
    .sfia-L4 {
        @apply bg-gradient-to-r from-orange-100 to-orange-200 text-orange-800;
    }
    
    .sfia-L5 {
        @apply bg-gradient-to-r from-blue-100 to-blue-200 text-blue-800;
    }
    
    .sfia-L6 {
        @apply bg-gradient-to-r from-purple-100 to-purple-200 text-purple-800;
    }
    
    .sfia-L7 {
        @apply bg-gradient-to-r from-red-100 to-red-200 text-red-800;
    }
    
    /* Dark mode adjustments */
    .dark .sfia-L1 {
        @apply bg-gradient-to-r from-emerald-900 to-emerald-800 text-emerald-200;
    }
    
    .dark .sfia-L2 {
        @apply bg-gradient-to-r from-green-900 to-green-800 text-green-200;
    }
    
    .dark .sfia-L3 {
        @apply bg-gradient-to-r from-yellow-900 to-yellow-800 text-yellow-200;
    }
    
    .dark .sfia-L4 {
        @apply bg-gradient-to-r from-orange-900 to-orange-800 text-orange-200;
    }
    
    .dark .sfia-L5 {
        @apply bg-gradient-to-r from-blue-900 to-blue-800 text-blue-200;
    }
    
    .dark .sfia-L6 {
        @apply bg-gradient-to-r from-purple-900 to-purple-800 text-purple-200;
    }
    
    .dark .sfia-L7 {
        @apply bg-gradient-to-r from-red-900 to-red-800 text-red-200;
    }
    
    .line-clamp-2 {
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        overflow: hidden;
    }
</style>